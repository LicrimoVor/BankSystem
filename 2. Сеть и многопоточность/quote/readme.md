# quote

quote - это набор инструментов для работы с котировками акций. Он включает в себя клиент и сервер для получения и отправки котиров, а также различные экстракторов данных, которые могут быть использованы для получения котиров из различных источников.


## Использование

### Сервер

Чтобы запустить сервер, выполните следующую команду:
```bash
cargo r --bin server -- -e random
```

CLI команда поддерживает разные аргументы:
- ```-e``` - формат экстратора (random, file, console) - optional
- ```-f``` - файл для котировок (только для ```-e file```)
- ```host``` - хост сервера (127.0.0.1:7878) - optional
- ```-s``` - секретный ключ для доступа к определенным командам - optional

Так же можно включить логирование:

```bash
RUST_LOG=info cargo r --bin server --features logging -- -e file -f ./quote/data/tickers.txt
```

### Клиент

Чтобы получить котировку, выполните следующую команду:
```bash
cargo r --bin client -- -s 127.0.0.1:7878 -t EW,NOC,SCHW
```
CLI команда поддерживает разные аргументы:
- ```-s``` - host сервера котировок
- ```-t``` - список трикеров для отслеживания
- ```host``` - host для udp клиента - optional

Так же можно включить логирование:

```bash
RUST_LOG=info cargo r --bin client --features logging -- -s 127.0.0.1:7878 -t EW,NOC,SCHW
```

Так же можно запустить с помощью python примера:
```bash
python ./quote/examples/client.py
```

## Данные

quote использует разные форматы для обмена данными между клиентом и сервером. Клиент сам выбирает формат (стандартно JSON) и отправляет запрос на сервер.

Пример JSON-ответа:
```json
{ 
    "ticker": "T8",
    "price": 0.5416500746543991,
    "volume": 2541488457,
    "timestamp": 1767787913
}
```
